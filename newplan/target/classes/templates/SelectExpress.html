<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link th:href="@{https://www.huangwx.cn/css/sweetalert.css}" rel="stylesheet">
    <script th:src="@{https://www.huangwx.cn/js/sweetalert-dev.js}" ></script>
<!--    <script type="text/javascript" th:src="@{/static/js/jquery.min.js}"></script>-->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <meta name="viewport" content="height=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
    <link th:href="@{https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css}" rel="stylesheet">
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script th:src="@{https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js}"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script th:src="@{https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js}"></script>
</head>
<body>
<div id="myCarousel" class="carousel slide">
    <!-- 轮播（Carousel）指标 -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <!-- 轮播（Carousel）项目 -->
    <div class="carousel-inner">
        <div class="item active">
            <img th:src="@{/static/images/1.png}" alt="First slide" />
            <div class="carousel-caption">标题 1</div>
        </div>
        <div class="item">
            <img th:src="@{/static/images/2.png}" alt="Second slide" />
            <div class="carousel-caption">标题 2</div>
        </div>
        <div class="item">
            <img th:src="@{/static/images/3.png}" alt="Third slide" />
            <div class="carousel-caption">标题 3</div>
        </div>
    </div>
    <!-- 轮播（Carousel）导航 -->
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<form role="form">
    <div class="form-group">
        <label for="shipSn">快递单号 </label>
       <input type="text" class="form-control" id="shipSn" placeholder="请输入单号" maxlength="30" required/>
    </div>
    <div class="form-group">
        <label for="showshipChannel">快递公司 </label>
        <input type="text" class="form-control" id="showshipChannel" placeholder="输入单号自动匹配" required/>
    </div>
<!--    不显示，在正式查询的时候作为快递公司的编码进行传参-->
    <div class="form-group">
        <label for="shipChannel"> </label>
        <input type="hidden" class="form-control" id="shipChannel"  required/>
    </div>
    <button type="button" class="btn btn-success" onclick="return sel()">查询</button>
</form>
<script>
    function sel() {
        var shipSn = $("#shipSn").val();
        $.ajax({
            url:'/ExperssHandle/getOrderShipperCode',
            type:'get',
            dataType:'json',
            // contentType: "application/json;charset=utf-8",
            /*data:JSON.stringify({
                "shipSn":shipSn
            }),*/
            data: {"shipSn":shipSn},
            headers:{
                'Authrorization': window.localStorage.getItem("Authrorization")//将token放到请求头中
            },
            success:function(result){
              if(result.flag){
                  if(result.data.Success){
                      document.getElementById("showshipChannel").value = result.data.Shippers[0].ShipperName;
                      document.getElementById("shipChannel").value = result.data.Shippers[0].ShipperCode;
                  }else {
                      document.getElementById("shipChannel").value = '';
                      return  false;
                  }
              }else {
                  if(result.code == '20002'){
                      // swal("异常","您好像还没登录哦！","warning");


                      swal({
                          title: "登录",
                          type: 'input',
                          input: 'text',
                          input: 'password',
                          inputPlaceholder:'请输入密码',
                          html: true
                      });


                      // swal({
                      //     title: "登录",
                      //     type: 'input',
                      //     text:
                      //         "<input type='text' name='username' id='username' placeholder='请输入用户名' pattern='[0-9A-Za-z]{6,16}' maxlength='16' required/>\n" +
                      //         "</br>\n"+
                      //         "<input type='password' name='password' id='password' placeholder='请输入密码' maxlength='16' pattern='[0-9A-Za-z]{6,25}' required/>\n" +
                      //         "<button class='login_btn' type='submit' onclick=return login()>登&nbsp;&nbsp;录</button>",
                      //
                      //     html: true
                      // });
                      return false;
                  }
                  swal("异常","意料之外的异常！请重试","error");
              }
            }
        })
    }
</script>


<!--<script>
    function login() {
        // window.open("register.html", "_blank");  //_self,_parent,_top,_blank
        var username=$("#username").val();
        var password=$("#password").val();

        $.ajax({  // ajax登陆请求
            url:"/user/login",
            dataType:'json',
            contentType: "application/json;charset=utf-8",
            type:"post",
            data:JSON.stringify({
                "username":username,
                "password":password
            }),
            success:function(Result){
                if(Result.flag == true){
                    headerSetup(Result.message);
                    // request.setRequestHeader("Authorization", "Bearer " +Result.data);
                    // alert("看放进去没：" + window.localStorage.getItem("Authrorization"));
                    swal("测试阶段，看一下token！",window.localStorage.getItem("Authrorization"));
                }else {
                    document.getElementById('password').value = '' ;
                    return false;
                }
            }
        });
    }

    function headerSetup(token)
    {
        var storage = window.localStorage;
        if(!storage){
            // alert("浏览器不支持localstorage");
            swal("完蛋","您的浏览器不支持Storage","error");
            return false;
        }
        storage.setItem("Authrorization", "Bearer " +token);
        storage.setItem("user_login_time", new Date().getTime());//保存登录时间
    }
</script>-->




</body>
</html>